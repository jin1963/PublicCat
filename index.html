<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>üê± CAT Public DApp</title>
  <style>
    :root{--bg:#0b0b0f;--card:#13131a;--fg:#f7f2d0;--muted:#b6b2a0;--gold:#ffcc33;--line:#2b2b37}
    *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto}
    body{margin:0;background:var(--bg);color:var(--fg)}
    .wrap{max-width:920px;margin:22px auto;padding:16px}
    h1{font-weight:800}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:18px;margin:14px 0}
    .row{display:grid;grid-template-columns:160px 1fr;gap:10px;align-items:center;margin:10px 0}
    input,select,button{padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0f0f16;color:var(--fg)}
    button{background:var(--gold);color:#222;border:none;font-weight:700;cursor:pointer}
    .btn{display:inline-flex;gap:8px;align-items:center}
    .list{display:grid;gap:12px}
    .pkg{padding:12px;border:1px dashed var(--line);border-radius:10px}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}
    .tag{background:#222;border:1px solid var(--line);padding:4px 8px;border-radius:999px;font-size:12px;color:var(--muted)}
    .toast{position:fixed;right:16px;bottom:16px;background:#111;border:1px solid var(--line);color:var(--fg);padding:10px 12px;border-radius:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üê± CAT Public DApp</h1>

    <div class="card">
      <button id="btnConnect" class="btn">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</button>
      <span id="connState" class="tag">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</span>
      <div class="hr"></div>
      <div>‡∏™‡∏±‡∏ç‡∏ç‡∏≤: <span class="mono" id="contractAddr">-</span></div>
      <div>‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢: BSC (0x38)</div>
    </div>

    <div class="card">
      <h3>üì¶ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à</h3>
      <div class="list" id="pkgList"></div>
      <div class="hr"></div>
      <div class="row"><label>Referrer (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label><input id="refAddr" placeholder="0x..."/></div>
    </div>

    <div class="card">
      <h3>üíº ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
      <div>USDT ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <b class="mono" id="myUsdt">-</b></div>
      <div><span id="symStake">CAT</span> ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <b class="mono" id="myStake">-</b></div>
      <div>‡∏£‡∏µ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏£‡∏±‡∏•‡∏™‡∏∞‡∏™‡∏° (USDT): <b class="mono" id="myRefAcc">-</b></div>
      <div>‡πÄ‡∏Ñ‡∏•‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏£‡∏±‡∏•‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å: <b class="mono" id="refInt">-</b></div>
      <div class="hr"></div>
      <h4>üéÅ ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°</h4>
      <div class="row"><label>Stake index</label><input id="claimIndex" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0"/></div>
      <div class="row"><label>Unstake index</label><input id="unstakeIndex" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0"/></div>
      <div class="row"><label></label>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button id="btnClaimStake">‡πÄ‡∏Ñ‡∏•‡∏°‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢</button>
          <button id="btnClaimRef">‡πÄ‡∏Ñ‡∏•‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏£‡∏±‡∏• (USDT)</button>
          <button id="btnUnstake">‡∏ñ‡∏≠‡∏ô‡∏ï‡πâ‡∏ô</button>
        </div>
      </div>
      <div id="stakeList" class="list"></div>
    </div>
  </div>

  <div id="toast" class="toast" style="display:none"></div>

  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.4/dist/web3.min.js"></script>
  <script src="./config.js"></script>
  <script src="./public.js"></script>
</body>
</html>
